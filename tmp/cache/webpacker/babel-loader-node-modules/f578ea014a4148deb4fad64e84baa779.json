{"ast":null,"code":"var labelClasses = {\n  Unviewed: \"day-section-item-badge-unviewed\",\n  Viewed: \"day-section-item-badge-viewed\",\n  Contacted: \"day-section-item-badge-contacted\",\n  Converted: \"day-section-item-badge-converted\"\n};\n\nfunction attachAccordionClickListeners() {\n  $(\".card-header\").on(\"click\", function (e) {\n    if ($(e.currentTarget).closest(\".day-section-item\").hasClass(\"day-section-item-disabled\")) {\n      return;\n    }\n\n    var collapse = $(this).siblings(\".collapse\").first();\n\n    if (collapse) {\n      if (collapse.hasClass(\"show\")) {\n        // Hide\n        collapse.collapse(\"hide\");\n        $(this).children(\".day-section-accordion-arrow\").first().removeClass(\"fa-rotate-90\");\n      } else {\n        // Show\n        collapse.collapse(\"show\");\n        $(this).children(\".day-section-accordion-arrow\").first().addClass(\"fa-rotate-90\");\n      }\n    }\n  });\n} // function activeLabelClasses(excludedLabel) {\n//   let classes = \"\";\n//   Object.entries(labelClasses).forEach(function(val) {\n//     if (val[0] !== excludedLabel) {\n//       classes += ` ${val[1]}-active`;\n//     }\n//   });\n//   return classes;\n// }\n\n\nfunction attachLabelClickListener() {\n  $(\".badge\").on(\"click\", function (e) {\n    e.preventDefault();\n    var label = e.currentTarget.innerText;\n    var address = $(this).closest(\".day-section-item-row\");\n    var addressData = address.data();\n    $(e.currentTarget).removeClass(labelClasses[label]).addClass(labelClasses[label] + \"-active\");\n    var siblings = $(e.currentTarget).siblings(\".badge\");\n    $.ajax({\n      method: \"POST\",\n      url: \"<%= update_match_status_path %>\",\n      headers: {\n        \"X-CSRF-Token\": document.getElementsByName('csrf-token')[0].content\n      },\n      data: {\n        new_status: label.toLowerCase(),\n        date: addressData.date,\n        address: addressData.address\n      }\n    }).done(function () {\n      for (var i = 0; i < siblings.length; i++) {\n        var sibling = $(siblings[i]);\n        var defaultClass = labelClasses[sibling.text()];\n        var activeClass = \"\".concat(defaultClass, \"-active\");\n\n        if (sibling.hasClass(activeClass)) {\n          sibling.removeClass(activeClass);\n          sibling.addClass(defaultClass);\n        }\n      }\n    });\n  });\n}\n\n$(document).ready(function () {\n  attachAccordionClickListeners();\n  attachLabelClickListener();\n});","map":{"version":3,"sources":["/Users/tristansharma/mockapp/app/javascript/packs/script.js"],"names":["labelClasses","Unviewed","Viewed","Contacted","Converted","attachAccordionClickListeners","$","on","e","currentTarget","closest","hasClass","collapse","siblings","first","children","removeClass","addClass","attachLabelClickListener","preventDefault","label","innerText","address","addressData","data","ajax","method","url","headers","document","getElementsByName","content","new_status","toLowerCase","date","done","i","length","sibling","defaultClass","text","activeClass","ready"],"mappings":"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","sourcesContent":["  var labelClasses = {\nUnviewed: \"day-section-item-badge-unviewed\",\nViewed: \"day-section-item-badge-viewed\",\nContacted: \"day-section-item-badge-contacted\",\nConverted: \"day-section-item-badge-converted\"\n};\nfunction attachAccordionClickListeners() {\n$(\".card-header\").on(\"click\", function(e) {\nif (\n  $(e.currentTarget)\n    .closest(\".day-section-item\")\n    .hasClass(\"day-section-item-disabled\")\n) {\n  return;\n}\nlet collapse = $(this)\n  .siblings(\".collapse\")\n  .first();\nif (collapse) {\n  if (collapse.hasClass(\"show\")) {\n    // Hide\n    collapse.collapse(\"hide\");\n    $(this)\n      .children(\".day-section-accordion-arrow\")\n      .first()\n      .removeClass(\"fa-rotate-90\");\n  } else {\n    // Show\n    collapse.collapse(\"show\");\n    $(this)\n      .children(\".day-section-accordion-arrow\")\n      .first()\n      .addClass(\"fa-rotate-90\");\n  }\n}\n});\n}\n// function activeLabelClasses(excludedLabel) {\n//   let classes = \"\";\n//   Object.entries(labelClasses).forEach(function(val) {\n//     if (val[0] !== excludedLabel) {\n//       classes += ` ${val[1]}-active`;\n//     }\n//   });\n//   return classes;\n// }\nfunction attachLabelClickListener() {\n$(\".badge\").on(\"click\", function(e) {\n  e.preventDefault();\n  let label = e.currentTarget.innerText;\n  let address = $(this).closest(\".day-section-item-row\");\n  let addressData = address.data();\n  $(e.currentTarget)\n    .removeClass(labelClasses[label])\n    .addClass(labelClasses[label] + \"-active\");\n  let siblings = $(e.currentTarget).siblings(\".badge\");\n  $.ajax({\n    method: \"POST\",\n    url: \"<%= update_match_status_path %>\",\n    headers: {\"X-CSRF-Token\": document.getElementsByName('csrf-token')[0].content},\n    data: {\n      new_status: label.toLowerCase(),\n      date: addressData.date,\n      address: addressData.address\n      }\n  }).done(function () {\n    for (var i = 0; i < siblings.length; i++) {\n      let sibling = $(siblings[i]);\n      let defaultClass = labelClasses[sibling.text()];\n      let activeClass = `${defaultClass}-active`;\n      if (sibling.hasClass(activeClass)) {\n        sibling.removeClass(activeClass);\n        sibling.addClass(defaultClass);\n      }\n    }\n  });\n});\n}\n$(document).ready(function() {\n  attachAccordionClickListeners();\n  attachLabelClickListener();\n});\n"]},"metadata":{},"sourceType":"module"}